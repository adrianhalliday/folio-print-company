/*--------------------------------------------------------------
# flexible-content-section
--------------------------------------------------------------*/

.building--block.flexible-content-section {
	@media (max-width: $max-md) {
		gap: calc(var(--padding-container) * 2) 0;
	}

	.content {
		@media (max-width: $max-md) {
			margin-bottom: 0;
		}

		.intro>*:last-child {
			margin-bottom: 0;
		}
	}

	.flexible-content {
		&--item {
			position: relative;
			margin-bottom: calc(var(--padding-container) * 2);

			@media (max-width: $max-md) {
				.divider--line { display: none; }
			}

			@media (min-width: $md) {
				margin-bottom: var(--padding-container);
			}

			&:last-child {
				margin-bottom: 0;

				@media (max-width: $max-md) {
					margin-bottom: var(--padding-container);

					.content { margin-bottom: 0; }
					// .divider--line:last-child { display: none; }
				}
			}

			.content {
				max-width: 60vw;
				
				*:last-child {
					margin-bottom: var(--padding-container);
				}
			}

			&.ContentFiftyFifty {
				.content-columns {
					@media (min-width: $md) {
						display: grid;
						grid-template-columns: 1fr 1fr;
						gap: var(--padding-container);
					}
				}

				@media (max-width: $max-md) {
					
					.column-1 {
						.content > *:last-child {
							margin-bottom: calc(var(--padding-container) * 2);
						}
					}
				}
			}

			&.ImageCarousel {
				.FlexibleMedia {
					position: relative;
					width: 100%;
					height: 0;
					padding-top: 56.25%;
				}
			}

			&:nth-last-child(n+2) {
				@media (max-width: $max-md) {
					.content > *:last-child {
						margin-bottom: calc(var(--padding-container) * 2);
					}
				}
			}
		}
	}

	.flexible-content--item.inview {
		.divider {
			&--line {
				transition-delay: 0.8s;
			}
		}
		.content {
			opacity: 0;
			transition: opacity 0.6s ease-in-out 0.3s;
		}

		&.inview-active {
			.content { opacity: 1; }
		}
	}
}